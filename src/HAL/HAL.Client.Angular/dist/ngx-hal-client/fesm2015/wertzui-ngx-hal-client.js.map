{"version":3,"file":"wertzui-ngx-hal-client.js","sources":["../../../projects/ngx-hal-client/src/lib/Models/link.ts","../../../projects/ngx-hal-client/src/lib/Models/resource.ts","../../../projects/ngx-hal-client/src/lib/hal-client.ts","../../../projects/ngx-hal-client/src/lib/hal-client.module.ts","../../../projects/ngx-hal-client/src/lib/Models/listResource.ts","../../../projects/ngx-hal-client/src/lib/Models/pagedListResource.ts","../../../projects/ngx-hal-client/src/public-api.ts","../../../projects/ngx-hal-client/src/wertzui-ngx-hal-client.ts"],"sourcesContent":["import * as utpl from 'uri-templates';\r\nimport { URITemplate } from 'uri-templates'\r\n/**\r\n *  A Link Object represents a hyperlink from the containing resource to a URI.\r\n */\r\nexport interface LinkDto {\r\n  /** \r\n   *  The \"deprecation\" property is OPTIONAL.\r\n   *  Its presence indicates that the link is to be deprecated (i.e.   \r\n   *  removed) at a future date.  Its value is a URL that SHOULD provide   \r\n   *  further information about the deprecation.\r\n   *  A client SHOULD provide some notification (for example, by logging a   \r\n   *  warning message) whenever it traverses over a link that has this   \r\n   *  property.  \r\n   *  The notification SHOULD include the deprecation property's   \r\n   *  value so that a client maintainer can easily find information about   \r\n   *  the deprecation.\r\n   */\r\n  deprecation?: string;\r\n  /** \r\n   *  The \"href\" property is REQUIRED.\r\n   *  Its value is either a URI [RFC3986] or a URI Template [RFC6570].\r\n   *  If the value is a URI Template then the Link Object SHOULD have a   \r\n   *  \"templated\" attribute whose value is true.\r\n   */\r\n  href: string;\r\n  /** \r\n   *  The \"hreflang\" property is OPTIONAL.\r\n   *  Its value is a string and is intended for indicating the language of   \r\n   *  the target resource (as defined by [RFC5988]).\r\n   */\r\n  hreflang?: string;\r\n  /** \r\n   *  The \"name\" property is OPTIONAL.\r\n   *  Its value MAY be used as a secondary key for selecting Link Objects   \r\n   *  which share the same relation type.\r\n   */\r\n  name?: string;\r\n  /** \r\n   *  The \"profile\" property is OPTIONAL.\r\n   *  Its value is a string which is a URI that hints about the profile (as   \r\n   *  defined by [I-D.wilde-profile-link]) of the target resource.\r\n   */\r\n  profile?: string;\r\n  /** \r\n   *  The \"templated\" property is OPTIONAL.\r\n   *  Its value is boolean and SHOULD be true when the Link Object's \"href\"   \r\n   *  property is a URI Template.\r\n   *  Its value SHOULD be considered false if it is undefined or any other   \r\n   *  value than true.\r\n   */\r\n  templated?: boolean;\r\n  /** \r\n   *  The \"title\" property is OPTIONAL.\r\n   *  Its value is a string and is intended for labelling the link with a   \r\n   *  human-readable identifier (as defined by [RFC5988]).\r\n   */\r\n  title?: string;\r\n  /** \r\n   *  The \"type\" property is OPTIONAL.\r\n   *  Its value is a string used as a hint to indicate the media type   \r\n   *  expected when dereferencing the target resource.\r\n   */\r\n  type?: string;\r\n}\r\n\r\n/** \r\n *  A Link Object represents a hyperlink from the containing resource to a URI.\r\n */\r\nexport class Link {\r\n  /** \r\n   *  The \"deprecation\" property is OPTIONAL.\r\n   *  Its presence indicates that the link is to be deprecated (i.e.   \r\n   *  removed) at a future date.  Its value is a URL that SHOULD provide   \r\n   *  further information about the deprecation.\r\n   *  A client SHOULD provide some notification (for example, by logging a   \r\n   *  warning message) whenever it traverses over a link that has this   \r\n   *  property.  \r\n   *  The notification SHOULD include the deprecation property's   \r\n   *  value so that a client maintainer can easily find information about   \r\n   *  the deprecation.\r\n   */\r\n  deprecation?: string;\r\n  /** \r\n   *  The \"href\" property is REQUIRED.\r\n   *  Its value is either a URI [RFC3986] or a URI Template [RFC6570].\r\n   *  If the value is a URI Template then the Link Object SHOULD have a   \r\n   *  \"templated\" attribute whose value is true.\r\n   */\r\n  href!: string;\r\n  /** \r\n   *  The \"hreflang\" property is OPTIONAL.\r\n   *  Its value is a string and is intended for indicating the language of   \r\n   *  the target resource (as defined by [RFC5988]).\r\n   */\r\n  hreflang?: string;\r\n  /** \r\n   *  The \"name\" property is OPTIONAL.\r\n   *  Its value MAY be used as a secondary key for selecting Link Objects   \r\n   *  which share the same relation type.\r\n   */\r\n  name?: string;\r\n  /** \r\n   *  The \"profile\" property is OPTIONAL.\r\n   *  Its value is a string which is a URI that hints about the profile (as   \r\n   *  defined by [I-D.wilde-profile-link]) of the target resource.\r\n   */\r\n  profile?: string;\r\n  /** \r\n   *  The \"templated\" property is OPTIONAL.\r\n   *  Its value is boolean and SHOULD be true when the Link Object's \"href\"   \r\n   *  property is a URI Template.\r\n   *  Its value SHOULD be considered false if it is undefined or any other   \r\n   *  value than true.\r\n   */\r\n  templated?: boolean;\r\n  /** \r\n   *  The \"title\" property is OPTIONAL.\r\n   *  Its value is a string and is intended for labelling the link with a   \r\n   *  human-readable identifier (as defined by [RFC5988]).\r\n   */\r\n  title?: string;\r\n  /** \r\n   *  The \"type\" property is OPTIONAL.\r\n   *  Its value is a string used as a hint to indicate the media type   \r\n   *  expected when dereferencing the target resource.\r\n   */\r\n  type?: string;\r\n\r\n  public fillTemplate(parameters: { [key: string]: string }): string {\r\n    return utpl(this.href).fill(parameters);\r\n  }\r\n\r\n  public static fromDto(dto: LinkDto | null | undefined): Link {\r\n    const link = Object.assign(new Link(), dto);\r\n\r\n    return link;\r\n  }\r\n\r\n  public static fromDtos(dtos: LinkDto[] | null | undefined): Link[] {\r\n    if (!dtos)\r\n      return [];\r\n\r\n    const links = dtos\r\n      .filter(dto => !!dto?.href)\r\n      .map(dto => Link.fromDto(dto));\r\n\r\n    return links;\r\n  }\r\n}","import { Link, LinkDto } from \"./link\";\r\nimport * as _ from 'lodash';\r\n\r\n/** \r\n *  A Resource Object represents a resource.   \r\n *  It has two reserved properties:\r\n *  (1)  \"_links\": contains links to other resources.\r\n *  (2)  \"_embedded\": contains embedded resources. \r\n */\r\nexport interface ResourceDto {\r\n  /** \r\n   *  The reserved \"_embedded\" property is OPTIONAL   \r\n   *  It is an object whose property names are link relation types (as   \r\n   *  defined by [RFC5988]) and values are either a Resource Object or an   \r\n   *  array of Resource Objects.   Embedded Resources MAY be a full, partial, \r\n   *  or inconsistent version of   the representation served from the target URI. \r\n   */\r\n  _embedded?: { [name: string]: ResourceDto[] };\r\n  /** \r\n   *  The reserved \"_links\" property is OPTIONAL.   \r\n   *  It is an object whose property names are link relation types (as   \r\n   *  defined by [RFC5988]) and values are either a Link Object or an array   \r\n   *  of Link Objects.  The subject resource of these links is the Resource   \r\n   *  Object of which the containing \"_links\" object is a property. \r\n   */\r\n  _links?: {\r\n    [name: string]: LinkDto[] | null | undefined;\r\n    self: LinkDto[];\r\n  };\r\n}\r\n\r\n/** \r\n *  A Resource Object represents a resource.   \r\n *  It has two reserved properties:\r\n *  (1)  \"_links\": contains links to other resources.\r\n *  (2)  \"_embedded\": contains embedded resources. \r\n */\r\nexport class Resource {\r\n  private static _iso8601RegEx: RegExp = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\r\n  /** \r\n   *  The reserved \"_embedded\" property is OPTIONAL   \r\n   *  It is an object whose property names are link relation types (as   \r\n   *  defined by [RFC5988]) and values are either a Resource Object or an   \r\n   *  array of Resource Objects.   Embedded Resources MAY be a full, partial, \r\n   *  or inconsistent version of   the representation served from the target URI. \r\n   */\r\n  public _embedded!: { [name: string]: Resource[] };\r\n  /** \r\n   *  The reserved \"_links\" property is OPTIONAL.   \r\n   *  It is an object whose property names are link relation types (as   \r\n   *  defined by [RFC5988]) and values are either a Link Object or an array   \r\n   *  of Link Objects.  The subject resource of these links is the Resource   \r\n   *  Object of which the containing \"_links\" object is a property. \r\n   */\r\n  public _links!: {\r\n    [name: string]: Link[] | undefined;\r\n    self: Link[];\r\n  };\r\n\r\n  public findLinks(rel: string): Link[] {\r\n    const linksWithRel = this._links[rel];\r\n\r\n    if (!linksWithRel)\r\n      return [];\r\n\r\n    return linksWithRel;\r\n  }\r\n\r\n  public findLink(rel: string, name?: string): Link | undefined {\r\n    const linksWithRel = this.findLinks(rel);\r\n\r\n    if (linksWithRel.length === 0)\r\n      return undefined;\r\n\r\n    if (name)\r\n      return linksWithRel.find(link => link.name === name);\r\n\r\n    return linksWithRel[0];\r\n  }\r\n\r\n  public findEmbedded(rel: string): Resource[] {\r\n    const embeddedWithRel = this._embedded[rel];\r\n\r\n    if (!embeddedWithRel)\r\n      return [];\r\n\r\n    return embeddedWithRel;\r\n  }\r\n\r\n  public static fromDto(dto: ResourceDto): Resource;\r\n  public static fromDto<TResource extends Resource>(dto: ResourceDto, TResource: { new(): TResource }): TResource;\r\n  public static fromDto<TResource extends Resource>(dto: ResourceDto, TResource?: { new(): TResource }): TResource | Resource {\r\n    const links = !(dto?._links) ? {} : Object.fromEntries(Object.entries(dto._links).map(([rel, links]) => [rel, Link.fromDtos(links)]));\r\n    const embedded = !(dto?._embedded) ? {} : Object.fromEntries(Object.entries(dto._embedded).map(([rel, resources]) => [rel, Resource.fromDtos(resources)]));\r\n    const dtoWithParsedDates = Resource.parseDates(dto);\r\n\r\n    const resource = Object.assign(!!(TResource) ? new TResource() : new Resource(), dtoWithParsedDates, { _embedded: embedded, _links: links });\r\n\r\n    return resource;\r\n  }\r\n\r\n  public static fromDtos(dtos: ResourceDto[] | null | undefined): Resource[] {\r\n    if (!dtos)\r\n      return [];\r\n\r\n    const resources = dtos\r\n      .filter(dto => !!dto)\r\n      .map(dto => Resource.fromDto(dto));\r\n\r\n    return resources;\r\n  }\r\n\r\n  private static parseDates(dto: any): any {\r\n    if (dto === null || dto === undefined)\r\n      return dto;\r\n\r\n    if (_.isString(dto)) {\r\n      if (this._iso8601RegEx.test(dto))\r\n        return new Date(dto);\r\n    }\r\n\r\n    else if (_.isArray(dto)) {\r\n      for (let i = 0; i < dto.length; i++) {\r\n        dto[i] = this.parseDates(dto[i]);\r\n      }\r\n    }\r\n\r\n    else if (_.isPlainObject(dto)) {\r\n      for (let [key, value] of Object.entries(dto)) {\r\n        dto[key] = this.parseDates(value);\r\n      }\r\n    }\r\n\r\n    return dto;\r\n  }\r\n}\r\n","import { HttpClient, HttpErrorResponse, HttpHeaders, HttpResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Resource, ResourceDto } from './Models/resource';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HalClient {\r\n\r\n  constructor(private _httpClient: HttpClient) { }\r\n\r\n  public async get<TResource extends Resource, TError extends Resource>(uri: string, TResource: { new(): TResource }, TError: { new(): TError }, headers?: HttpHeaders): Promise<HttpResponse<TResource | TError>> {\r\n    const options = HalClient.createOptions(headers);\r\n    let dtoResponse: HttpResponse<ResourceDto> | undefined;\r\n    try {\r\n      dtoResponse = await this._httpClient.get<ResourceDto>(uri, options).toPromise();\r\n    }\r\n    catch (e) {\r\n      if (e instanceof HttpErrorResponse)\r\n        dtoResponse = HalClient.convertErrorResponse(e);\r\n      else\r\n        throw new Error(`GET ${uri} - options: ${options} failed with error ${e}`);\r\n    }\r\n    if (!dtoResponse)\r\n      throw new Error(`GET ${uri} - options: ${options} did not return a response.`);\r\n    const resourceResponse = HalClient.convertResponse <TResource | TError>(dtoResponse.ok ? TResource : TError, dtoResponse);\r\n    return resourceResponse;\r\n  }\r\n\r\n  public async post<TResource extends Resource, TError extends Resource>(uri: string, body: Resource, TResource: { new(): TResource }, TError: { new(): TError }, headers?: HttpHeaders): Promise<HttpResponse<TResource | TError>> {\r\n    const options = HalClient.createOptions(headers);\r\n    let dtoResponse: HttpResponse<ResourceDto> | undefined;\r\n    try {\r\n      dtoResponse = await this._httpClient.post<TResource>(uri, body, options).toPromise();\r\n    }\r\n    catch (e) {\r\n      if (e instanceof HttpErrorResponse)\r\n        dtoResponse = HalClient.convertErrorResponse(e);\r\n      else\r\n        throw new Error(`POST ${uri} - options: ${options} - body: ${body} failed with error ${e}`);\r\n    }\r\n    if (!dtoResponse)\r\n      throw new Error(`POST ${uri} - options: ${options} - body: ${body} did not return a response.`);\r\n    const resourceResponse = HalClient.convertResponse<TResource | TError>(dtoResponse.ok ? TResource : TError, dtoResponse);\r\n    return resourceResponse;\r\n  }\r\n\r\n  public async put<TResource extends Resource, TError extends Resource>(uri: string, body: Resource, TResource: { new(): TResource }, TError: { new(): TError }, headers?: HttpHeaders): Promise<HttpResponse<TResource | TError>> {\r\n    const options = HalClient.createOptions(headers);\r\n    let dtoResponse: HttpResponse<ResourceDto> | undefined;\r\n    try {\r\n      dtoResponse = await this._httpClient.put<TResource>(uri, body, options).toPromise();\r\n    }\r\n    catch (e) {\r\n      if (e instanceof HttpErrorResponse)\r\n        dtoResponse = HalClient.convertErrorResponse(e);\r\n      else\r\n        throw new Error(`PUT ${uri} - options: ${options} - body: ${body} failed with error ${e}`);\r\n    }\r\n    if (!dtoResponse)\r\n      throw new Error(`PUT ${uri} - options: ${options} - body: ${body} did not return a response.`);\r\n    const resourceResponse = HalClient.convertResponse<TResource | TError>(dtoResponse.ok ? TResource : TError, dtoResponse);\r\n    return resourceResponse;\r\n  }\r\n\r\n  public async delete<TError extends Resource>(uri: string, TError: { new(): TError }, headers?: HttpHeaders): Promise<HttpResponse<void | TError>> {\r\n    const options = HalClient.createOptions(headers);\r\n    let response: HttpResponse<any> | undefined;\r\n    try {\r\n      response = await this._httpClient.delete<HttpResponse<void>>(uri, options).toPromise();\r\n    }\r\n    catch (e) {\r\n      if (e instanceof HttpErrorResponse)\r\n        response = HalClient.convertErrorResponse(e);\r\n      else\r\n        throw new Error(`DELETE ${uri} - options: ${options} failed with error ${e}`);\r\n    }\r\n    if (!response)\r\n      throw new Error(`DELETE ${uri} - options: ${options} did not return a response.`);\r\n    if (!response.ok) {\r\n      const errorResponse = HalClient.convertResponse<TError>(TError, response);\r\n      return errorResponse;\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  private static createOptions(headers?: HttpHeaders): { headers?: HttpHeaders, responseType: 'json', observe: 'response' } {\r\n    headers?.append('Accept', 'application/hal+json')\r\n    return {\r\n      headers: headers,\r\n      responseType: 'json',\r\n      observe: 'response'\r\n    }\r\n  }\r\n\r\n  public static convertResponse<TResource extends Resource>(TResource: { new(): TResource }, response: HttpResponse<ResourceDto>): HttpResponse<TResource> {\r\n    const resource = Resource.fromDto(response.body || new TResource(), TResource);\r\n    const resourceResponse = response.clone<TResource>({ body: resource });\r\n    return resourceResponse;\r\n  }\r\n\r\n  private static convertErrorResponse<TResourceDto>(e: HttpErrorResponse): HttpResponse<TResourceDto> {\r\n    const dtoResponse = new HttpResponse({ body: e.error, headers: e.headers, status: e.status, statusText: e.statusText, url: e.url ? e.url : undefined });\r\n    return dtoResponse;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { HalClient } from './hal-client';\n\n\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [\n  ],\n  exports: [\n  ],\n  providers: [\n    HalClient\n  ]\n})\nexport class HalClientModule { }\n","import { Resource, ResourceDto } from \"./resource\";\r\n\r\nexport interface ListResourceDto<TListDto extends ResourceDto> extends ResourceDto {\r\n  _embedded?: {\r\n    [name: string]: ResourceDto[];\r\n    items: TListDto[]\r\n  };\r\n}\r\n\r\nexport class ListResource extends Resource {\r\n  _embedded!: {\r\n    [name: string]: Resource[];\r\n    items: Resource[];\r\n  };\r\n\r\n  public static fromDto<TListDto extends ResourceDto>(dto: ListResourceDto<TListDto>): ListResource {\r\n    const resource = Resource.fromDto(dto);\r\n\r\n    if (!ListResource.isListResource(resource)) {\r\n      throw new TypeError(`The resource ${resource} is not a ListResource.`);\r\n    }\r\n\r\n    return resource;\r\n  }\r\n\r\n  public static isListResource(resource: ListResource | Resource): resource is ListResource {\r\n    return !!((resource as ListResource)?._embedded?.items)\r\n  }\r\n}","import { Link, LinkDto } from \"./link\";\r\nimport { ListResource, ListResourceDto } from \"./listResource\";\r\nimport { Page } from \"./page\";\r\nimport { Resource, ResourceDto } from \"./resource\";\r\n\r\nexport interface PagedListResourceDto<TListDto extends ResourceDto> extends ListResourceDto<TListDto>, Page {\r\n  _links?: {\r\n    [name: string]: LinkDto[] | null | undefined;\r\n    self: LinkDto[];\r\n    first?: LinkDto[];\r\n    prev?: LinkDto[];\r\n    next?: LinkDto[];\r\n    last?: LinkDto[];\r\n  };\r\n}\r\n\r\nexport class PagedListResource extends ListResource implements Page {\r\n  _links!: {\r\n    [name: string]: Link[] | undefined;\r\n    self: Link[];\r\n    first?: Link[];\r\n    prev?: Link[];\r\n    next?: Link[];\r\n    last?: Link[];\r\n  };\r\n\r\n  currentPage?: number;\r\n  totalPages?: number;\r\n\r\n  public static fromDto<TListDto extends ResourceDto>(dto: PagedListResourceDto<TListDto>): PagedListResource {\r\n    const resource = ListResource.fromDto(dto);\r\n\r\n    return resource;\r\n  }\r\n}","/*\n * Public API Surface of ngx-hal-client\n */\n\nexport * from './lib/hal-client';\nexport * from './lib/hal-client.module';\nexport * from './lib/Models/link';\nexport * from './lib/Models/page';\nexport * from './lib/Models/resource';\nexport * from './lib/Models/listResource';\nexport * from './lib/Models/pagedListResource';\nexport * from './lib/Models/resourceOf';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}