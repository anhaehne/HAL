import { Resource } from './resource';
;
export var PropertyType;
(function (PropertyType) {
    PropertyType["Hidden"] = "hidden";
    PropertyType["Text"] = "text";
    PropertyType["Textarea"] = "textarea";
    PropertyType["Search"] = "search";
    PropertyType["Tel"] = "tel";
    PropertyType["Url"] = "url";
    PropertyType["Email"] = "email";
    PropertyType["Password"] = "password";
    PropertyType["Date"] = "date";
    PropertyType["Month"] = "month";
    PropertyType["Week"] = "week";
    PropertyType["Time"] = "time";
    PropertyType["DatetimeLocal"] = "datetime-local";
    PropertyType["Number"] = "number";
    PropertyType["Range"] = "range";
    PropertyType["Color"] = "color";
    PropertyType["Bool"] = "bool";
    PropertyType["DatetimeOffset"] = "datetime-offset";
    PropertyType["Duration"] = "duration";
    PropertyType["Image"] = "image";
    PropertyType["File"] = "file";
    PropertyType["Collection"] = "collection";
    PropertyType["Object"] = "object";
})(PropertyType || (PropertyType = {}));
export class Options {
    constructor(dto) {
        this.inline = [];
        Object.assign(this, dto);
        if (!this.inline)
            this.inline = [];
    }
}
export class Property {
    constructor(dto) {
        Object.assign(this, dto);
        this._templates = !(dto?._templates) ? {} : Object.fromEntries(Object.entries(dto._templates).map(([rel, templateDto]) => [rel, new Template(templateDto)]));
        if (this.options)
            this.options = new Options(dto?.options);
    }
}
;
export class Template {
    constructor(dto) {
        Object.assign(this, dto);
        this.properties = !(dto?.properties) ? [] : dto.properties.map(propertyDto => new Property(propertyDto));
    }
    get values() {
        return !this.properties ? {} : Object.fromEntries(this.properties.map(property => [property.name, property.value]));
    }
}
export class FormsResource extends Resource {
    constructor(dto) {
        super(dto);
        this._templates = !(dto?._templates) ? {} : Object.fromEntries(Object.entries(dto._templates).map(([rel, templateDto]) => [rel, new Template(templateDto)]));
    }
    getTemplate(name) {
        const templateNames = Object.getOwnPropertyNames(this._templates);
        if (!templateNames.includes(name))
            throw new Error(`The form ${this} does not have a _template with the name '${name}'. It only has ${templateNames}.`);
        const template = this._templates[name];
        return template;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybXNSZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1oYWwtY2xpZW50L3NyYy9saWIvTW9kZWxzL2Zvcm1zUmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBZSxNQUFNLFlBQVksQ0FBQztBQXFDbEQsQ0FBQztBQXVCRixNQUFNLENBQU4sSUFBWSxZQXdCWDtBQXhCRCxXQUFZLFlBQVk7SUFDdEIsaUNBQWlCLENBQUE7SUFDakIsNkJBQWEsQ0FBQTtJQUNiLHFDQUFxQixDQUFBO0lBQ3JCLGlDQUFpQixDQUFBO0lBQ2pCLDJCQUFXLENBQUE7SUFDWCwyQkFBVyxDQUFBO0lBQ1gsK0JBQWUsQ0FBQTtJQUNmLHFDQUFxQixDQUFBO0lBQ3JCLDZCQUFhLENBQUE7SUFDYiwrQkFBZSxDQUFBO0lBQ2YsNkJBQWEsQ0FBQTtJQUNiLDZCQUFhLENBQUE7SUFDYixnREFBZ0MsQ0FBQTtJQUNoQyxpQ0FBaUIsQ0FBQTtJQUNqQiwrQkFBZSxDQUFBO0lBQ2YsK0JBQWUsQ0FBQTtJQUNmLDZCQUFhLENBQUE7SUFDYixrREFBa0MsQ0FBQTtJQUNsQyxxQ0FBcUIsQ0FBQTtJQUNyQiwrQkFBZSxDQUFBO0lBQ2YsNkJBQWEsQ0FBQTtJQUNiLHlDQUF5QixDQUFBO0lBQ3pCLGlDQUFpQixDQUFBO0FBQ25CLENBQUMsRUF4QlcsWUFBWSxLQUFaLFlBQVksUUF3QnZCO0FBTUQsTUFBTSxPQUFPLE9BQU87SUFTbEIsWUFBWSxHQUFnQjtRQVI1QixXQUFNLEdBQWlDLEVBQUUsQ0FBQztRQVN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUV6QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU07WUFDZCxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sUUFBUTtJQW9CbkIsWUFBbUIsR0FBaUI7UUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTdKLElBQUksSUFBSSxDQUFDLE9BQU87WUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDO0NBQ0Y7QUFBQSxDQUFDO0FBRUYsTUFBTSxPQUFPLFFBQVE7SUFPbkIsWUFBWSxHQUFpQjtRQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUV6QixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQzNHLENBQUM7SUFFRCxJQUFXLE1BQU07UUFDZixPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEgsQ0FBQztDQUVGO0FBRUQsTUFBTSxPQUFPLGFBQWMsU0FBUSxRQUFRO0lBR3pDLFlBQW1CLEdBQXNCO1FBQ3ZDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVYLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvSixDQUFDO0lBRU0sV0FBVyxDQUFDLElBQVk7UUFDN0IsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxZQUFZLElBQUksNkNBQTZDLElBQUksa0JBQWtCLGFBQWEsR0FBRyxDQUFDLENBQUM7UUFFdkgsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV2QyxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXNvdXJjZSwgUmVzb3VyY2VEdG8gfSBmcm9tICcuL3Jlc291cmNlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRm9ybXNSZXNvdXJjZUR0byBleHRlbmRzIFJlc291cmNlRHRvIHtcclxuICBfdGVtcGxhdGVzPzogVGVtcGxhdGVEdG9zO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlRHRvIHtcclxuICBjb250ZW50VHlwZT86IHN0cmluZztcclxuICBtZXRob2Q/OiBzdHJpbmc7XHJcbiAgcHJvcGVydGllcz86IFByb3BlcnR5RHRvW107XHJcbiAgdGFyZ2V0Pzogc3RyaW5nO1xyXG4gIHRpdGxlPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlRHRvcyB7XHJcbiAgW25hbWU6IHN0cmluZ106IFRlbXBsYXRlRHRvO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RHRvIHtcclxuICBjb2xzPzogbnVtYmVyO1xyXG4gIG1heD86IG51bWJlcjtcclxuICBtYXhMZW5ndGg/OiBudW1iZXI7XHJcbiAgbWluPzogbnVtYmVyO1xyXG4gIG1pbkxlbmd0aD86IG51bWJlcjtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIG9wdGlvbnM/OiBPcHRpb25zRHRvO1xyXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xyXG4gIHByb21wdD86IHN0cmluZztcclxuICByZWFkT25seT86IGJvb2xlYW47XHJcbiAgcmVnZXg/OiBzdHJpbmc7XHJcbiAgcmVxdWlyZWQ/OiBib29sZWFuO1xyXG4gIHJvd3M/OiBudW1iZXI7XHJcbiAgc3RlcD86IG51bWJlcjtcclxuICB0ZW1wbGF0ZWQ/OiBib29sZWFuO1xyXG4gIF90ZW1wbGF0ZXM/OiBUZW1wbGF0ZUR0b3M7XHJcbiAgdHlwZT86IFByb3BlcnR5VHlwZTtcclxuICB2YWx1ZT86IHVua25vd247XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbnNEdG8ge1xyXG4gIGlubGluZT86IE9wdGlvbnNJdGVtRHRvW10gfCB1bmtub3duW107XHJcbiAgbGluaz86IE9wdGlvbnNMaW5rRHRvO1xyXG4gIG1heEl0ZW1zPzogbnVtYmVyO1xyXG4gIG1pbkl0ZW1zPzogbnVtYmVyO1xyXG4gIHByb21wdEZpZWxkPzogc3RyaW5nO1xyXG4gIHNlbGVjdGVkVmFsdWVzPzogdW5rbm93bltdO1xyXG4gIHZhbHVlRmllbGQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uc0l0ZW1EdG8ge1xyXG4gIHByb21wdDogc3RyaW5nO1xyXG4gIHZhbHVlOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbnNMaW5rRHRvIHtcclxuICBocmVmOiBzdHJpbmc7XHJcbiAgdGVtcGxhdGVkPzogYm9vbGVhbjtcclxuICB0eXBlPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBQcm9wZXJ0eVR5cGUge1xyXG4gIEhpZGRlbiA9ICdoaWRkZW4nLFxyXG4gIFRleHQgPSAndGV4dCcsXHJcbiAgVGV4dGFyZWEgPSAndGV4dGFyZWEnLFxyXG4gIFNlYXJjaCA9ICdzZWFyY2gnLFxyXG4gIFRlbCA9ICd0ZWwnLFxyXG4gIFVybCA9ICd1cmwnLFxyXG4gIEVtYWlsID0gJ2VtYWlsJyxcclxuICBQYXNzd29yZCA9ICdwYXNzd29yZCcsXHJcbiAgRGF0ZSA9ICdkYXRlJyxcclxuICBNb250aCA9ICdtb250aCcsXHJcbiAgV2VlayA9ICd3ZWVrJyxcclxuICBUaW1lID0gJ3RpbWUnLFxyXG4gIERhdGV0aW1lTG9jYWwgPSAnZGF0ZXRpbWUtbG9jYWwnLFxyXG4gIE51bWJlciA9ICdudW1iZXInLFxyXG4gIFJhbmdlID0gJ3JhbmdlJyxcclxuICBDb2xvciA9ICdjb2xvcicsXHJcbiAgQm9vbCA9ICdib29sJyxcclxuICBEYXRldGltZU9mZnNldCA9ICdkYXRldGltZS1vZmZzZXQnLFxyXG4gIER1cmF0aW9uID0gJ2R1cmF0aW9uJyxcclxuICBJbWFnZSA9ICdpbWFnZScsXHJcbiAgRmlsZSA9ICdmaWxlJyxcclxuICBDb2xsZWN0aW9uID0gJ2NvbGxlY3Rpb24nLFxyXG4gIE9iamVjdCA9ICdvYmplY3QnXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVzIHtcclxuICBbbmFtZTogc3RyaW5nXTogVGVtcGxhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zIHtcclxuICBpbmxpbmU6IE9wdGlvbnNJdGVtRHRvW10gfCB1bmtub3duW10gPSBbXTtcclxuICBsaW5rPzogT3B0aW9uc0xpbmtEdG87XHJcbiAgbWF4SXRlbXM/OiBudW1iZXI7XHJcbiAgbWluSXRlbXM/OiBudW1iZXI7XHJcbiAgcHJvbXB0RmllbGQ/OiBzdHJpbmc7XHJcbiAgc2VsZWN0ZWRWYWx1ZXM/OiB1bmtub3duW107XHJcbiAgdmFsdWVGaWVsZD86IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoZHRvPzogT3B0aW9uc0R0bykge1xyXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkdG8pO1xyXG5cclxuICAgIGlmICghdGhpcy5pbmxpbmUpXHJcbiAgICAgIHRoaXMuaW5saW5lID0gW107XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvcGVydHkge1xyXG4gIGNvbHM/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG4gIG1heExlbmd0aD86IG51bWJlcjtcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWluTGVuZ3RoPzogbnVtYmVyO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgb3B0aW9ucz86IE9wdGlvbnM7XHJcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XHJcbiAgcHJvbXB0Pzogc3RyaW5nO1xyXG4gIHJlYWRPbmx5PzogYm9vbGVhbjtcclxuICByZWdleD86IHN0cmluZztcclxuICByZXF1aXJlZD86IGJvb2xlYW47XHJcbiAgcm93cz86IG51bWJlcjtcclxuICBzdGVwPzogbnVtYmVyO1xyXG4gIHRlbXBsYXRlZD86IGJvb2xlYW47XHJcbiAgX3RlbXBsYXRlczogVGVtcGxhdGVzO1xyXG4gIHR5cGU/OiBQcm9wZXJ0eVR5cGU7XHJcbiAgdmFsdWU/OiB1bmtub3duO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoZHRvPzogUHJvcGVydHlEdG8pIHtcclxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgZHRvKTtcclxuXHJcbiAgICB0aGlzLl90ZW1wbGF0ZXMgPSAhKGR0bz8uX3RlbXBsYXRlcykgPyB7fSA6IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhkdG8uX3RlbXBsYXRlcykubWFwKChbcmVsLCB0ZW1wbGF0ZUR0b10pID0+IFtyZWwsIG5ldyBUZW1wbGF0ZSh0ZW1wbGF0ZUR0byldKSk7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucylcclxuICAgICAgdGhpcy5vcHRpb25zID0gbmV3IE9wdGlvbnMoZHRvPy5vcHRpb25zKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xyXG4gIGNvbnRlbnRUeXBlPzogc3RyaW5nO1xyXG4gIG1ldGhvZD86IHN0cmluZztcclxuICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eVtdO1xyXG4gIHRhcmdldD86IHN0cmluZztcclxuICB0aXRsZT86IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoZHRvPzogVGVtcGxhdGVEdG8pIHtcclxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgZHRvKTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnRpZXMgPSAhKGR0bz8ucHJvcGVydGllcykgPyBbXSA6IGR0by5wcm9wZXJ0aWVzLm1hcChwcm9wZXJ0eUR0byA9PiBuZXcgUHJvcGVydHkocHJvcGVydHlEdG8pKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgdmFsdWVzKCk6IHsgW25hbWU6IHN0cmluZ106IHVua25vd24gfSB7XHJcbiAgICByZXR1cm4gIXRoaXMucHJvcGVydGllcyA/IHt9IDogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMucHJvcGVydGllcy5tYXAocHJvcGVydHkgPT4gW3Byb3BlcnR5Lm5hbWUsIHByb3BlcnR5LnZhbHVlXSkpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGb3Jtc1Jlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xyXG4gIHB1YmxpYyBfdGVtcGxhdGVzITogVGVtcGxhdGVzO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoZHRvPzogRm9ybXNSZXNvdXJjZUR0bykge1xyXG4gICAgc3VwZXIoZHRvKTtcclxuXHJcbiAgICB0aGlzLl90ZW1wbGF0ZXMgPSAhKGR0bz8uX3RlbXBsYXRlcykgPyB7fSA6IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhkdG8uX3RlbXBsYXRlcykubWFwKChbcmVsLCB0ZW1wbGF0ZUR0b10pID0+IFtyZWwsIG5ldyBUZW1wbGF0ZSh0ZW1wbGF0ZUR0byldKSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0VGVtcGxhdGUobmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fdGVtcGxhdGVzKTtcclxuICAgIGlmICghdGVtcGxhdGVOYW1lcy5pbmNsdWRlcyhuYW1lKSlcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9ybSAke3RoaXN9IGRvZXMgbm90IGhhdmUgYSBfdGVtcGxhdGUgd2l0aCB0aGUgbmFtZSAnJHtuYW1lfScuIEl0IG9ubHkgaGFzICR7dGVtcGxhdGVOYW1lc30uYCk7XHJcblxyXG4gICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZXNbbmFtZV07XHJcblxyXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gIH1cclxufSJdfQ==